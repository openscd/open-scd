{"version":3,"file":"Settings.js","sourceRoot":"","sources":["../../src/addons/Settings.ts"],"names":[],"mappings":";AAAA,OAAO,EACL,IAAI,EACJ,QAAQ,EACR,KAAK,EAEL,aAAa,EACb,UAAU,EACV,GAAG,GACJ,MAAM,aAAa,CAAC;AACrB,OAAO,EAAE,GAAG,EAAE,uBAAuB,EAAE,GAAG,EAAE,MAAM,eAAe,CAAC;AAElE,OAAO,sBAAsB,CAAC;AAC9B,OAAO,sBAAsB,CAAC;AAC9B,OAAO,yBAAyB,CAAC;AACjC,OAAO,kCAAkC,CAAC;AAC1C,OAAO,sBAAsB,CAAC;AAC9B,OAAO,sBAAsB,CAAC;AAM9B,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAExC,OAAO,EAAE,WAAW,EAAE,MAAM,gDAAgD,CAAC;AAC7E,OAAO,EAOL,iBAAiB,EAClB,MAAM,iDAAiD,CAAC;AACzD,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,2BAA2B,CAAC;AAE9D,OAAO,qBAAqB,CAAC;AAG7B,OAAO,EACL,UAAU,EACV,UAAU,EACV,UAAU,EACV,UAAU,GACX,MAAM,sBAAsB,CAAC;AAC9B,OAAO,EAAE,eAAe,EAAS,MAAM,wBAAwB,CAAC;AAEhE,MAAM,CAAC,MAAM,QAAQ,GAAa;IAChC,QAAQ,EAAE,IAAI;IACd,KAAK,EAAE,OAAO;IACd,IAAI,EAAE,MAAM;IACZ,QAAQ,EAAE,KAAK;IACf,eAAe,EAAE,SAAS;IAC1B,eAAe,EAAE,SAAS;IAC1B,eAAe,EAAE,SAAS;IAC1B,eAAe,EAAE,SAAS;CAC3B,CAAC;AAGK,IAAM,YAAY,GAAlB,MAAM,YAAa,SAAQ,UAAU;IAC1C,2EAA2E;IAE3E,IAAI,QAAQ;QACV,OAAO;YACL,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;YACrC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;YAC/B,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YAC7B,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC;YACrC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;YACjD,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;YACjD,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;YACjD,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC;SAClD,CAAC;IACJ,CAAC;IAaD;;;OAGG;IACK,KAAK,CAAC,WAAW;QACvB,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YACrD,UAAU;YACV,UAAU;YACV,UAAU;YACV,UAAU;SACX,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,GAAG;YAC3C,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC;YACzB,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC;YACzB,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC;YACzB,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC;SACjC,CAAC;QAEF,OAAO;YACL,eAAe,EAAE;gBACf,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;gBACtD,QAAQ,EAAE,OAAO,EAAE,YAAY,CAAC,UAAU,CAAC,IAAI,SAAS;gBACxD,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;aACvD;YACD,eAAe,EAAE;gBACf,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;gBACtD,QAAQ,EAAE,OAAO,EAAE,YAAY,CAAC,UAAU,CAAC,IAAI,SAAS;gBACxD,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;aACvD;YACD,eAAe,EAAE;gBACf,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;gBACtD,QAAQ,EAAE,OAAO,EAAE,YAAY,CAAC,UAAU,CAAC,IAAI,SAAS;gBACxD,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;aACvD;YACD,eAAe,EAAE;gBACf,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;gBACtD,QAAQ,EAAE,OAAO,EAAE,YAAY,CAAC,UAAU,CAAC,IAAI,SAAS;gBACxD,OAAO,EAAE,OAAO,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,SAAS;aACvD;SACF,CAAC;IACJ,CAAC;IAgBO,UAAU,CAA2B,OAAU;QACrD,OAAO,CACe,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,QAAQ,CAAC,OAAO,CAAC,CACvE,CAAC;IACJ,CAAC;IAED,kEAAkE;IAClE,UAAU,CAA2B,OAAU,EAAE,KAAkB;QACjE,YAAY,CAAC,OAAO,CAAC,OAAO,EAAoB,KAAM,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU;YACb,EAAE,aAAa,CAAe,eAAe,CAAC;YAC9C,EAAE,aAAa,EAAE,CAAC;QACpB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,8CAA8C;IAC9C,aAAa,CAA2B,OAAU;QAChD,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU;YACb,EAAE,aAAa,CAAe,eAAe,CAAC;YAC9C,EAAE,aAAa,EAAE,CAAC;QACpB,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,CAAC,KAAK,GAAG,eAAe,EAAE,CAAC,CAAC,eAAe;IACjD,CAAC;IAEO,SAAS,CAAC,EAA0C;QAC1D,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,KAAK,OAAO,EAAE;YACjC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;SAChC;aAAM,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,KAAK,MAAM,EAAE;YACvC,IAAI,CAAC,UAAU,CAAC,UAAU,EAAY,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAC7D,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;YACtE,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YAC9D,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YACpE,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;SAChC;IACH,CAAC;IAED,OAAO,CAAC,iBAAyD;QAC/D,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACjC,IAAI,iBAAiB,CAAC,GAAG,CAAC,UAAU,CAAC;YAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACrE,CAAC;IAEO,gBAAgB;QACtB,OAAO,IAAI,CAAA;;;;;;;;mBAQI,CAAC,GAAU,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;;;iBAG3C,GAAG,CAAC,2BAA2B,CAAC;;iBAEhC,GAAG,EAAE;YACZ,MAAM,KAAK,GAA4B,CACrC,IAAI,CAAC,UAAW,CAAC,aAAa,CAAC,aAAa,CAAC,CAC9C,CAAC;YACF,KAAK,EAAE,KAAK,EAAE,CAAC;QACjB,CAAC;;;KAGJ,CAAC;IACJ,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,GAAU;QACtC,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CACI,GAAG,CAAC,MAAO,EAAE,KAAK,IAAI,EAAE,CACnD,CAAC;QAEF,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC;YAAE,OAAO;QAC9B,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;YACxB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;YAC/B,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACxD;QAED,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEO,KAAK,CAAC,WAAW,CAAC,KAAqB;QAC7C,MAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CACxC,KAAK,CAAC,MAAM,CAAC,KAAK,CACnB,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAEzB,MAAM,EAAE,GAAG,YAAY,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,EAAE,EAAE;YACP,IAAI,CAAC,aAAa,CAChB,WAAW,CAAC;gBACV,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,GAAG,CAAC,+BAA+B,EAAE;oBAC1C,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,QAAQ;iBAChC,CAAC;aACH,CAAC,CACH,CAAC;YACF,OAAO;SACR;QAED,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QAC7C,MAAM,UAAU,GAAG,WAAW,CAAC,EAAuB,CAAC,CAAC;QACxD,MAAM,YAAY,GAAG;YACnB,OAAO,EAAE,YAAa,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE;YACpD,QAAQ,EAAE,YAAa,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,EAAE;YACtD,OAAO,EAAE,YAAa,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE;SACrD,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,YAAY,CAAC,EAAE;YAC3C,IAAI,CAAC,aAAa,CAChB,WAAW,CAAC;gBACV,IAAI,EAAE,OAAO;gBACb,KAAK,EAAE,GAAG,CAAC,8BAA8B,EAAE;oBACzC,EAAE,EAAE,EAAE;oBACN,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,QAAQ;oBAC/B,UAAU,EAAE,GAAG,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC,QAAQ,GAAG,UAAU,CAAC,OAAO,EAAE;oBAC9E,YAAY,EAAE,GAAG,YAAY,CAAC,OAAO,GAAG,YAAY,CAAC,QAAQ,GAAG,YAAY,CAAC,OAAO,EAAE;iBACvF,CAAC;aACH,CAAC,CACH,CAAC;YACF,OAAO;SACR;QAED,IAAI,CAAC,UAAU,CAAC,EAAoB,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,CAAC,KAAK,GAAG,eAAe,EAAE,CAAC,CAAC,eAAe;IACjD,CAAC;IAED;;;;;OAKG;IACK,OAAO,CAAC,QAAoB,EAAE,QAAoB;QACxD,OAAO,CACL,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO;YACpC,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,QAAQ;YACtC,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,OAAO,CACrC,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACK,eAAe,CAA2B,GAAM;QACtD,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACtC,IAAI,UAAqC,CAAC;QAC1C,IAAI,WAAsC,CAAC;QAC3C,IAAI,UAAqC,CAAC;QAE1C,IAAI,UAAU,EAAE;YACd,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAE,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACxE,UAAU,GAAG,KAAK,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;YAC5C,WAAW,GAAG,KAAK,EAAE,YAAY,CAAC,UAAU,CAAC,CAAC;YAC9C,UAAU,GAAG,KAAK,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;SAC7C;QAED,OAAO,IAAI,CAAA;WACJ,GAAG;;;;kBAII,CAAC,UAAU;;cAEf,GAAG;QACT,UAAU;YACV,CAAC,CAAC,IAAI,CAAA;eACC,UAAU,GAAG,WAAW,GAAG,UAAU;YACxC;YACJ,CAAC,CAAC,IAAI,CAAA,EAAE;QACR,UAAU;YACV,CAAC,CAAC,IAAI,CAAA,+DAA+D;YACrE,CAAC,CAAC,IAAI,CAAA,8DAA8D;QACpE,UAAU;YACV,CAAC,CAAC,IAAI,CAAA;;;qBAGO,GAAG,EAAE;gBACZ,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC1B,CAAC;;YAED;YACJ,CAAC,CAAC,IAAI,CAAA,EAAE;qBACK,CAAC;IACpB,CAAC;IAEO,gBAAgB,CAAC,IAAY;QACnC,OAAO,IAAI,SAAS,EAAE,CAAC,eAAe,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;IAClE,CAAC;IAED;QACE,KAAK,EAAE,CAAC;QAvQV,6FAA6F;QAE7F,UAAK,GAAU,eAAe,EAAE,CAAC;QAQjC,oBAAe,GAAG,IAAI,CAAC;QA+PrB,uBAAuB,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC;QACvD,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC9B,CAAC;IAED,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,IAAI,CAAC,IAAI,EAAE;YACb,IAAI,CAAC,IAAK,CAAC,gBAAgB,CAAC,eAAe,EAAE,CAAC,GAAoB,EAAE,EAAE;gBACpE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;YACrE,CAAC,CAAC,CAAC;YACG,IAAI,CAAC,IAAK,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC,GAAmB,EAAE,EAAE,CACtE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CACtB,CAAC;SACH;IACH,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;;mBAEI,GAAG,CAAC,gBAAgB,CAAC;mBACrB,IAAI,CAAC,SAAS;;;;;;;qBAOZ,GAAG,CAAC,mBAAmB,CAAC;;cAE/B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAC1B,IAAI,CAAC,EAAE,CACL,IAAI,CAAA;;2BAEO,IAAI;8BACD,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ;qBACxC,GAAG,CAAC,sBAAsB,IAAI,EAAE,CAAC;kBACpC,CACL;;kCAEqB,GAAG,CAAC,eAAe,CAAC;;;yBAG7B,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,MAAM;;;kCAGrB,GAAG,CAAC,eAAe,CAAC;;;yBAG7B,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,KAAK;;;kCAGnB,GAAG,CAAC,mBAAmB,CAAC;;;yBAGjC,IAAI,CAAC,QAAQ,CAAC,QAAQ,KAAK,IAAI;;;;;UAK9C,IAAI,CAAC,eAAe;YACpB,CAAC,CAAC,IAAI,CAAA;oBACI,GAAG,CAAC,8BAA8B,CAAC;gBACvC,IAAI,CAAC,gBAAgB,EAAE;uBAChB;YACb,CAAC,CAAC,IAAI,CAAA,EAAE;;YAEN,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC;YACrC,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC;YACrC,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC;YACrC,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC;;;YAGrC,GAAG,CAAC,QAAQ,CAAC;;;;;;;YAOb,GAAG,CAAC,OAAO,CAAC;;;;;;;;YAQZ,GAAG,CAAC,MAAM,CAAC;;;;QAIf,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;IACtC,CAAC;;AAEM,mBAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyFlB,CAAC;AA5cF;IADC,QAAQ,EAAE;4CAYV;AAGD;IADC,QAAQ,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;2CACE;AAKjC;IAHC,QAAQ,CAAC;QACR,IAAI,EAAE,MAAM;KACb,CAAC;0CACiB;AAGnB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;qDACL;AA6CvB;IADC,KAAK,CAAC,WAAW,CAAC;gDACC;AAEpB;IADC,KAAK,CAAC,WAAW,CAAC;gDACC;AAEpB;IADC,KAAK,CAAC,OAAO,CAAC;iDACM;AAErB;IADC,KAAK,CAAC,OAAO,CAAC;4CACC;AAEhB;IADC,KAAK,CAAC,WAAW,CAAC;gDACC;AAGpB;IADC,KAAK,CAAC,aAAa,CAAC;iDACkB;AAjF5B,YAAY;IADxB,aAAa,CAAC,eAAe,CAAC;GAClB,YAAY,CAgdxB;SAhdY,YAAY","sourcesContent":["import {\n  html,\n  property,\n  query,\n  TemplateResult,\n  customElement,\n  LitElement,\n  css,\n} from 'lit-element';\nimport { get, registerTranslateConfig, use } from 'lit-translate';\n\nimport '@material/mwc-button';\nimport '@material/mwc-dialog';\nimport '@material/mwc-formfield';\nimport '@material/mwc-list/mwc-list-item';\nimport '@material/mwc-select';\nimport '@material/mwc-switch';\n\nimport { Dialog } from '@material/mwc-dialog';\nimport { Select } from '@material/mwc-select';\nimport { Switch } from '@material/mwc-switch';\n\nimport { getTheme } from '../themes.js';\n\nimport { newLogEvent } from '@openscd/core/foundation/deprecated/history.js';\nimport { \n  Settings, \n  SettingsUIEvent, \n  Language,\n  NsdVersions,\n  NsdVersion,\n  LoadNsdocEvent,\n  newLoadNsdocEvent\n} from '@openscd/core/foundation/deprecated/settings.js';\nimport { languages, loader } from '../translations/loader.js';\n\nimport '../WizardDivider.js';\nimport { WizardDialog } from '../wizard-dialog.js';\n\nimport {\n  iec6185072,\n  iec6185073,\n  iec6185074,\n  iec6185081,\n} from '../foundation/nsd.js';\nimport { initializeNsdoc, Nsdoc } from '../foundation/nsdoc.js';\n\nexport const defaults: Settings = {\n  language: 'en',\n  theme: 'light',\n  mode: 'safe',\n  showieds: 'off',\n  'IEC 61850-7-2': undefined,\n  'IEC 61850-7-3': undefined,\n  'IEC 61850-7-4': undefined,\n  'IEC 61850-8-1': undefined,\n};\n\n@customElement('oscd-settings')\nexport class OscdSettings extends LitElement {\n  /** Current [[`Settings`]] in `localStorage`, default to [[`defaults`]]. */\n  @property()\n  get settings(): Settings {\n    return {\n      language: this.getSetting('language'),\n      theme: this.getSetting('theme'),\n      mode: this.getSetting('mode'),\n      showieds: this.getSetting('showieds'),\n      'IEC 61850-7-2': this.getSetting('IEC 61850-7-2'),\n      'IEC 61850-7-3': this.getSetting('IEC 61850-7-3'),\n      'IEC 61850-7-4': this.getSetting('IEC 61850-7-4'),\n      'IEC 61850-8-1': this.getSetting('IEC 61850-8-1'),\n    };\n  }\n  /** Object containing all *.nsdoc files and a function extracting element's label form them*/\n  @property({ attribute: false })\n  nsdoc: Nsdoc = initializeNsdoc();\n\n  @property({\n    type: Object,\n  })\n  host!: HTMLElement;\n\n  @property({ type: Boolean })\n  nsdUploadButton = true;\n\n  /**\n   * Get the versions of the current OpenSCD NSD files.\n   * @returns Current version, revision and release for all current OpenSCD NSD files.\n   */\n  private async nsdVersions(): Promise<NsdVersions> {\n    const [nsd72, nsd73, nsd74, nsd81] = await Promise.all([\n      iec6185072,\n      iec6185073,\n      iec6185074,\n      iec6185081,\n    ]);\n    const [nsd72Ns, nsd73Ns, nsd74Ns, nsd81Ns] = [\n      nsd72.querySelector('NS'),\n      nsd73.querySelector('NS'),\n      nsd74.querySelector('NS'),\n      nsd81.querySelector('ServiceNS'),\n    ];\n\n    return {\n      'IEC 61850-7-2': {\n        version: nsd72Ns?.getAttribute('version') ?? undefined,\n        revision: nsd72Ns?.getAttribute('revision') ?? undefined,\n        release: nsd72Ns?.getAttribute('release') ?? undefined,\n      },\n      'IEC 61850-7-3': {\n        version: nsd73Ns?.getAttribute('version') ?? undefined,\n        revision: nsd73Ns?.getAttribute('revision') ?? undefined,\n        release: nsd73Ns?.getAttribute('release') ?? undefined,\n      },\n      'IEC 61850-7-4': {\n        version: nsd74Ns?.getAttribute('version') ?? undefined,\n        revision: nsd74Ns?.getAttribute('revision') ?? undefined,\n        release: nsd74Ns?.getAttribute('release') ?? undefined,\n      },\n      'IEC 61850-8-1': {\n        version: nsd81Ns?.getAttribute('version') ?? undefined,\n        revision: nsd81Ns?.getAttribute('revision') ?? undefined,\n        release: nsd81Ns?.getAttribute('release') ?? undefined,\n      },\n    };\n  }\n\n  @query('#settings')\n  settingsUI!: Dialog;\n  @query('#language')\n  languageUI!: Select;\n  @query('#dark')\n  darkThemeUI!: Switch;\n  @query('#mode')\n  modeUI!: Switch;\n  @query('#showieds')\n  showiedsUI!: Switch;\n\n  @query('#nsdoc-file')\n  private nsdocFileUI!: HTMLInputElement;\n\n  private getSetting<T extends keyof Settings>(setting: T): Settings[T] {\n    return (\n      <Settings[T] | null>localStorage.getItem(setting) ?? defaults[setting]\n    );\n  }\n\n  /** Update the `value` of `setting`, storing to `localStorage`. */\n  setSetting<T extends keyof Settings>(setting: T, value: Settings[T]): void {\n    localStorage.setItem(setting, <string>(<unknown>value));\n    this.shadowRoot\n      ?.querySelector<WizardDialog>('wizard-dialog')\n      ?.requestUpdate();\n    this.requestUpdate();\n  }\n\n  /** Remove the `setting` in `localStorage`. */\n  removeSetting<T extends keyof Settings>(setting: T): void {\n    localStorage.removeItem(setting);\n    this.shadowRoot\n      ?.querySelector<WizardDialog>('wizard-dialog')\n      ?.requestUpdate();\n    this.requestUpdate();\n\n    this.nsdoc = initializeNsdoc(); // update nsdoc\n  }\n\n  private onClosing(ae: CustomEvent<{ action: string } | null>): void {\n    if (ae.detail?.action === 'reset') {\n      Object.keys(this.settings).forEach(item => localStorage.removeItem(item));\n      this.requestUpdate('settings');\n    } else if (ae.detail?.action === 'save') {\n      this.setSetting('language', <Language>this.languageUI.value);\n      this.setSetting('theme', this.darkThemeUI.checked ? 'dark' : 'light');\n      this.setSetting('mode', this.modeUI.checked ? 'pro' : 'safe');\n      this.setSetting('showieds', this.showiedsUI.checked ? 'on' : 'off');\n      this.requestUpdate('settings');\n    }\n  }\n\n  updated(changedProperties: Map<string | number | symbol, unknown>): void {\n    super.updated(changedProperties);\n    if (changedProperties.has('settings')) use(this.settings.language);\n  }\n\n  private renderFileSelect(): TemplateResult {\n    return html`\n      <input\n        id=\"nsdoc-file\"\n        accept=\".nsdoc\"\n        type=\"file\"\n        hidden\n        required\n        multiple\n        @change=\"${(evt: Event) => this.uploadNsdocFile(evt)}}\"\n      />\n      <mwc-button\n        label=\"${get('settings.selectFileButton')}\"\n        id=\"selectFileButton\"\n        @click=${() => {\n          const input = <HTMLInputElement | null>(\n            this.shadowRoot!.querySelector('#nsdoc-file')\n          );\n          input?.click();\n        }}\n      >\n      </mwc-button>\n    `;\n  }\n\n  private async uploadNsdocFile(evt: Event): Promise<void> {\n    const files = Array.from(\n      (<HTMLInputElement | null>evt.target)?.files ?? []\n    );\n\n    if (files.length == 0) return;\n    for (const file of files) {\n      const text = await file.text();\n      this.dispatchEvent(newLoadNsdocEvent(text, file.name));\n    }\n\n    this.nsdocFileUI.value = '';\n    this.requestUpdate();\n  }\n\n  private async onLoadNsdoc(event: LoadNsdocEvent) {\n    const nsdocElement = this.parseToXmlObject(\n      event.detail.nsdoc\n    ).querySelector('NSDoc');\n\n    const id = nsdocElement?.getAttribute('id');\n    if (!id) {\n      this.dispatchEvent(\n        newLogEvent({\n          kind: 'error',\n          title: get('settings.invalidFileNoIdFound', {\n            filename: event.detail.filename,\n          }),\n        })\n      );\n      return;\n    }\n\n    const nsdVersions = await this.nsdVersions();\n    const nsdVersion = nsdVersions[id as keyof NsdVersions];\n    const nsdocVersion = {\n      version: nsdocElement!.getAttribute('version') ?? '',\n      revision: nsdocElement!.getAttribute('revision') ?? '',\n      release: nsdocElement!.getAttribute('release') ?? '',\n    };\n\n    if (!this.isEqual(nsdVersion, nsdocVersion)) {\n      this.dispatchEvent(\n        newLogEvent({\n          kind: 'error',\n          title: get('settings.invalidNsdocVersion', {\n            id: id,\n            filename: event.detail.filename,\n            nsdVersion: `${nsdVersion.version}${nsdVersion.revision}${nsdVersion.release}`,\n            nsdocVersion: `${nsdocVersion.version}${nsdocVersion.revision}${nsdocVersion.release}`,\n          }),\n        })\n      );\n      return;\n    }\n\n    this.setSetting(id as keyof Settings, event.detail.nsdoc);\n    this.nsdoc = initializeNsdoc(); // update nsdoc\n  }\n\n  /**\n   * Check the equality of two NsdVersions.\n   * @param versionA - First version to compare.\n   * @param versionB - Second version to compare.\n   * @returns Are they equal or not.\n   */\n  private isEqual(versionA: NsdVersion, versionB: NsdVersion): boolean {\n    return (\n      versionA.version == versionB.version &&\n      versionA.revision == versionB.revision &&\n      versionA.release == versionB.release\n    );\n  }\n\n  /**\n   * Render one .nsdoc item in the Settings wizard\n   * @param key - The key of the nsdoc file in the settings.\n   * @returns a .nsdoc item for the Settings wizard\n   */\n  private renderNsdocItem<T extends keyof Settings>(key: T): TemplateResult {\n    const nsdSetting = this.settings[key];\n    let nsdVersion: string | undefined | null;\n    let nsdRevision: string | undefined | null;\n    let nsdRelease: string | undefined | null;\n\n    if (nsdSetting) {\n      const nsdoc = this.parseToXmlObject(nsdSetting)!.querySelector('NSDoc');\n      nsdVersion = nsdoc?.getAttribute('version');\n      nsdRevision = nsdoc?.getAttribute('revision');\n      nsdRelease = nsdoc?.getAttribute('release');\n    }\n\n    return html`<mwc-list-item\n      id=${key}\n      graphic=\"avatar\"\n      hasMeta\n      twoline\n      .disabled=${!nsdSetting}\n    >\n      <span>${key}</span>\n      ${nsdSetting\n        ? html`<span slot=\"secondary\"\n            >${nsdVersion}${nsdRevision}${nsdRelease}</span\n          >`\n        : html``}\n      ${nsdSetting\n        ? html`<mwc-icon slot=\"graphic\" style=\"color:green;\">done</mwc-icon>`\n        : html`<mwc-icon slot=\"graphic\" style=\"color:red;\">close</mwc-icon>`}\n      ${nsdSetting\n        ? html`<mwc-icon\n            id=\"deleteNsdocItem\"\n            slot=\"meta\"\n            @click=${() => {\n              this.removeSetting(key);\n            }}\n            >delete</mwc-icon\n          >`\n        : html``}\n    </mwc-list-item>`;\n  }\n\n  private parseToXmlObject(text: string): XMLDocument {\n    return new DOMParser().parseFromString(text, 'application/xml');\n  }\n\n  constructor() {\n    super();\n\n    registerTranslateConfig({ loader, empty: key => key });\n    use(this.settings.language);\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback();\n    if (this.host) {\n      this.host!.addEventListener('oscd-settings', (evt: SettingsUIEvent) => {\n        evt.detail.show ? this.settingsUI.show() : this.settingsUI.close();\n      });\n      (<any>this.host).addEventListener('load-nsdoc', (evt: LoadNsdocEvent) =>\n        this.onLoadNsdoc(evt)\n      );\n    }\n  }\n\n  render(): TemplateResult {\n    return html`<mwc-dialog\n        id=\"settings\"\n        heading=\"${get('settings.title')}\"\n        @closing=${this.onClosing}\n      >\n        <form>\n          <mwc-select\n            fixedMenuPosition\n            id=\"language\"\n            icon=\"language\"\n            label=\"${get('settings.language')}\"\n          >\n            ${Object.keys(languages).map(\n              lang =>\n                html`<mwc-list-item\n                  graphic=\"icon\"\n                  value=\"${lang}\"\n                  ?selected=${lang === this.settings.language}\n                  >${get(`settings.languages.${lang}`)}</mwc-list-item\n                >`\n            )}\n          </mwc-select>\n          <mwc-formfield label=\"${get('settings.dark')}\">\n            <mwc-switch\n              id=\"dark\"\n              ?checked=${this.settings.theme === 'dark'}\n            ></mwc-switch>\n          </mwc-formfield>\n          <mwc-formfield label=\"${get('settings.mode')}\">\n            <mwc-switch\n              id=\"mode\"\n              ?checked=${this.settings.mode === 'pro'}\n            ></mwc-switch>\n          </mwc-formfield>\n          <mwc-formfield label=\"${get('settings.showieds')}\">\n            <mwc-switch\n              id=\"showieds\"\n              ?checked=${this.settings.showieds === 'on'}\n            ></mwc-switch>\n          </mwc-formfield>\n        </form>\n        <wizard-divider></wizard-divider>\n        ${this.nsdUploadButton\n          ? html`<section id=\"shownsdbutton\">\n              <h3>${get('settings.loadNsdTranslations')}</h3>\n              ${this.renderFileSelect()}\n            </section>`\n          : html``}\n        <mwc-list id=\"nsdocList\">\n          ${this.renderNsdocItem('IEC 61850-7-2')}\n          ${this.renderNsdocItem('IEC 61850-7-3')}\n          ${this.renderNsdocItem('IEC 61850-7-4')}\n          ${this.renderNsdocItem('IEC 61850-8-1')}\n        </mwc-list>\n        <mwc-button slot=\"secondaryAction\" dialogAction=\"close\">\n          ${get('cancel')}\n        </mwc-button>\n        <mwc-button\n          style=\"--mdc-theme-primary: var(--mdc-theme-error)\"\n          slot=\"secondaryAction\"\n          dialogAction=\"reset\"\n        >\n          ${get('reset')}\n        </mwc-button>\n        <mwc-button\n          icon=\"save\"\n          trailingIcon\n          slot=\"primaryAction\"\n          dialogAction=\"save\"\n        >\n          ${get('save')}\n        </mwc-button>\n      </mwc-dialog>\n      <slot></slot>\n      ${getTheme(this.settings.theme)}`;\n  }\n\n  static styles = css`\n    mwc-top-app-bar-fixed {\n      --mdc-theme-text-disabled-on-light: rgba(255, 255, 255, 0.38);\n    } /* hack to fix disabled icon buttons rendering black */\n\n    mwc-tab {\n      background-color: var(--primary);\n      --mdc-theme-primary: var(--mdc-theme-on-primary);\n    }\n\n    input[type='file'] {\n      display: none;\n    }\n\n    mwc-dialog {\n      --mdc-dialog-max-width: 98vw;\n    }\n\n    mwc-dialog > form {\n      display: flex;\n      flex-direction: column;\n    }\n\n    mwc-dialog > form > * {\n      display: block;\n      margin-top: 16px;\n    }\n\n    mwc-linear-progress {\n      position: fixed;\n      --mdc-linear-progress-buffer-color: var(--primary);\n      --mdc-theme-primary: var(--secondary);\n      left: 0px;\n      top: 0px;\n      width: 100%;\n      pointer-events: none;\n      z-index: 1000;\n    }\n\n    tt {\n      font-family: 'Roboto Mono', monospace;\n      font-weight: 300;\n    }\n\n    .landing {\n      position: absolute;\n      text-align: center;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 100%;\n    }\n\n    .landing_icon:hover {\n      box-shadow: 0 12px 17px 2px rgba(0, 0, 0, 0.14),\n        0 5px 22px 4px rgba(0, 0, 0, 0.12), 0 7px 8px -4px rgba(0, 0, 0, 0.2);\n    }\n\n    .landing_icon {\n      margin: 12px;\n      border-radius: 16px;\n      width: 160px;\n      height: 140px;\n      text-align: center;\n      color: var(--mdc-theme-on-secondary);\n      background: var(--secondary);\n      --mdc-icon-button-size: 100px;\n      --mdc-icon-size: 100px;\n      --mdc-ripple-color: rgba(0, 0, 0, 0);\n      box-shadow: rgb(0 0 0 / 14%) 0px 6px 10px 0px,\n        rgb(0 0 0 / 12%) 0px 1px 18px 0px, rgb(0 0 0 / 20%) 0px 3px 5px -1px;\n      transition: box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .landing_label {\n      width: 160px;\n      height: 50px;\n      margin-top: 100px;\n      margin-left: -30px;\n      font-family: 'Roboto', sans-serif;\n    }\n\n    .plugin.menu {\n      display: flex;\n    }\n\n    .plugin.validator {\n      display: flex;\n    }\n  `;\n}\n"]}