{"version":3,"file":"tooltip.js","sourceRoot":"","sources":["../../src/components/tooltip.ts"],"names":[],"mappings":";AAAA,OAAO,EACL,GAAG,EACH,aAAa,EACb,IAAI,EACJ,UAAU,EACV,QAAQ,GAET,MAAM,aAAa,CAAC;AAErB,+EAA+E;AAExE,IAAM,WAAW,GAAjB,MAAM,WAAY,SAAQ,UAAU;IAApC;;QAEL,SAAI,GAAG,EAAE,CAAC;QAGV,YAAO,GAAG,KAAK,CAAC;QAGhB,MAAC,GAAG,CAAC,CAAC;QAGN,MAAC,GAAG,CAAC,CAAC;QAGN,WAAM,GAAG,EAAE,CAAC;QAEJ,iBAAY,GAAG,CAAC,CAAC;IAoF3B,CAAC;IAlFC,IAAI,CAAC,IAAY,EAAE,OAAe,EAAE,OAAe;QACjD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAED,IAAI;QACF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,oBAAoB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACxC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SACvB;IACH,CAAC;IAED,cAAc,CAAC,OAAe,EAAE,OAAe;QAC7C,IAAI,CAAC,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;QAC/B,IAAI,CAAC,CAAC,GAAG,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;QAE/B,IAAI,IAAI,CAAC,YAAY;YAAE,OAAO;QAE9B,IAAI,CAAC,YAAY,GAAG,qBAAqB,CAAC,GAAG,EAAE;YAC7C,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO;YAE1B,MAAM,OAAO,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7C,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YACf,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YAEf,MAAM,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;YACjC,MAAM,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;YAElC,IAAI,CAAC,GAAG,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE;gBAC5C,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;aACxD;YACD,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM;gBAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAErC,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,EAAE;gBAC7C,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;aACzD;YACD,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM;gBAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAErC,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,eAAe,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,CAClE,CAAC,CACF,QAAQ,CAAC;QACZ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA,SAAS,IAAI,CAAC,IAAI,SAAS,CAAC;IACzC,CAAC;;AAEM,kBAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA6BlB,CAAC;AAjGF;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;yCACjB;AAGV;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;4CAC3B;AAGhB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;sCACrB;AAGN;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;sCACrB;AAGN;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;2CACf;AAdD,WAAW;IADvB,aAAa,CAAC,uBAAuB,CAAC;GAC1B,WAAW,CAoGvB;SApGY,WAAW","sourcesContent":["import {\r\n  css,\r\n  customElement,\r\n  html,\r\n  LitElement,\r\n  property,\r\n  TemplateResult,\r\n} from 'lit-element';\r\n\r\n/** A tooltip element that follows the mouse cursor and displays a text box. */\r\n@customElement('oscd-tooltip-4c6027dd')\r\nexport class OscdTooltip extends LitElement {\r\n  @property({ type: String })\r\n  text = '';\r\n\r\n  @property({ type: Boolean, reflect: true })\r\n  visible = false;\r\n\r\n  @property({ type: Number })\r\n  x = 0;\r\n\r\n  @property({ type: Number })\r\n  y = 0;\r\n\r\n  @property({ type: Number })\r\n  offset = 12;\r\n\r\n  private pendingFrame = 0;\r\n\r\n  show(text: string, clientX: number, clientY: number): void {\r\n    this.text = text;\r\n    this.visible = true;\r\n    this.updatePosition(clientX, clientY);\r\n  }\r\n\r\n  hide(): void {\r\n    this.visible = false;\r\n    this.text = '';\r\n    if (this.pendingFrame) {\r\n      cancelAnimationFrame(this.pendingFrame);\r\n      this.pendingFrame = 0;\r\n    }\r\n  }\r\n\r\n  updatePosition(clientX: number, clientY: number): void {\r\n    this.x = clientX + this.offset;\r\n    this.y = clientY + this.offset;\r\n\r\n    if (this.pendingFrame) return;\r\n\r\n    this.pendingFrame = requestAnimationFrame(() => {\r\n      this.pendingFrame = 0;\r\n      if (!this.visible) return;\r\n\r\n      const tipRect = this.getBoundingClientRect();\r\n      let x = this.x;\r\n      let y = this.y;\r\n\r\n      const innerW = window.innerWidth;\r\n      const innerH = window.innerHeight;\r\n\r\n      if (x + tipRect.width + this.offset > innerW) {\r\n        x = this.x - this.offset - tipRect.width - this.offset;\r\n      }\r\n      if (x < this.offset) x = this.offset;\r\n\r\n      if (y + tipRect.height + this.offset > innerH) {\r\n        y = this.y - this.offset - tipRect.height - this.offset;\r\n      }\r\n      if (y < this.offset) y = this.offset;\r\n\r\n      this.style.transform = `translate3d(${Math.round(x)}px, ${Math.round(\r\n        y\r\n      )}px, 0)`;\r\n    });\r\n  }\r\n\r\n  render(): TemplateResult {\r\n    return html`<slot>${this.text}</slot>`;\r\n  }\r\n\r\n  static styles = css`\r\n    :host {\r\n      position: fixed;\r\n      pointer-events: none;\r\n      background: rgba(20, 20, 20, 0.95);\r\n      color: rgba(240, 240, 240, 0.98);\r\n      padding: 6px 8px;\r\n      border-radius: 4px;\r\n      font-size: 0.85em;\r\n      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);\r\n      z-index: 6000;\r\n      max-width: 60vw;\r\n      border: 1px solid rgba(255, 255, 255, 0.04);\r\n      left: 0;\r\n      top: 0;\r\n      transform: translate3d(0, 0, 0);\r\n      will-change: transform;\r\n      opacity: 1;\r\n      transition: opacity 0.15s ease-in-out;\r\n    }\r\n\r\n    :host(:not([visible])) {\r\n      opacity: 0;\r\n      pointer-events: none;\r\n    }\r\n\r\n    :host([hidden]) {\r\n      display: none;\r\n    }\r\n  `;\r\n}\r\n"]}