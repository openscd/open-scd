{"version":3,"file":"service-networking.js","sourceRoot":"","sources":["../../src/wizards/service-networking.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,GAAG,EAAE,MAAM,eAAe,CAAC;AAGpC,OAAO,EACL,iBAAiB,EACjB,4BAA4B,EAC5B,aAAa,GACd,MAAM,eAAe,CAAC;AA8CvB,MAAM,UAAU,0BAA0B,CACxC,QAAiB;IAEjB,MAAM,OAAO,GAA4B,sBAAsB,CAAC,QAAQ,CAAC,CAAC;IAE1E,OAAO,OAAO;QACZ,CAAC,CAAC;YACE,KAAK,EAAE,GAAG,CAAC,mBAAmB,EAAE,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC;YAC1D,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC;YACrB,OAAO,EAAE,QAAQ;SAClB;QACH,CAAC,CAAC,IAAI,CAAC;AACX,CAAC;AAED,SAAS,sBAAsB,CAAC,MAAe;IAC7C,MAAM,OAAO,GAAmB;QAC9B,YAAY,EAAE;YACZ,GAAG,EAAE,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,KAAK,CAAC,IAAI,IAAI;YACtE,GAAG,EAAE,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,KAAK,CAAC,IAAI,IAAI;YACtE,IAAI,EAAE,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;SACzE;QACD,YAAY,EAAE;YACZ,IAAI,EAAE,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;YACxE,YAAY,EACV,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,cAAc,CAAC;gBAClE,IAAI;YACN,OAAO,EACL,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,IAAI;YACvE,KAAK,EACH,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,OAAO,CAAC,IAAI,IAAI;SACtE;QACD,eAAe,EAAE;YACf,IAAI,EACF,MAAM;iBACH,aAAa,CAAC,+BAA+B,CAAC;gBAC/C,EAAE,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;YAClC,YAAY,EACV,MAAM;iBACH,aAAa,CAAC,+BAA+B,CAAC;gBAC/C,EAAE,YAAY,CAAC,cAAc,CAAC,IAAI,IAAI;YAC1C,OAAO,EACL,MAAM;iBACH,aAAa,CAAC,+BAA+B,CAAC;gBAC/C,EAAE,YAAY,CAAC,SAAS,CAAC,IAAI,IAAI;YACrC,KAAK,EACH,MAAM;iBACH,aAAa,CAAC,+BAA+B,CAAC;gBAC/C,EAAE,YAAY,CAAC,OAAO,CAAC,IAAI,IAAI;SACpC;QACD,aAAa,EAAE;YACb,SAAS,EACP,MAAM;iBACH,aAAa,CAAC,6BAA6B,CAAC;gBAC7C,EAAE,YAAY,CAAC,WAAW,CAAC,IAAI,IAAI;YACvC,UAAU,EACR,MAAM;iBACH,aAAa,CAAC,6BAA6B,CAAC;gBAC7C,EAAE,YAAY,CAAC,YAAY,CAAC,IAAI,IAAI;SACzC;QACD,OAAO,EAAE;YACP,GAAG,EAAE,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,KAAK,CAAC,IAAI,IAAI;YACjE,GAAG,EAAE,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,KAAK,CAAC,IAAI,IAAI;YACjE,IAAI,EAAE,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;SACpE;QACD,QAAQ,EAAE;YACR,IAAI,EAAE,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,IAAI,IAAI;SACrE;KACF,CAAC;IAEF,OAAO,aAAa,CAAC,OAAO,CAAC;QAC3B,CAAC,CAAC,IAAI;QACN,CAAC,CAAC;YACE,iBAAiB,CAAC,eAAe,CAAC;YAClC,GAAG,4BAA4B,CAAC;gBAC9B;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,KAAK;oBACZ,MAAM,EACJ,+FAA+F;oBACjG,UAAU,EAAE,OAAO,CAAC,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACxD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,KAAK;oBACZ,MAAM,EAAE,sDAAsD;oBAC9D,UAAU,EAAE,OAAO,CAAC,YAAY,CAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACxD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,MAAM;oBACb,MAAM,EACJ,iEAAiE;oBACnE,UAAU,EAAE,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACzD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;aACF,CAAC;YACF,iBAAiB,CAAC,0BAA0B,CAAC;YAC7C,GAAG,4BAA4B,CAAC;gBAC9B;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,MAAM;oBACb,MAAM,EACJ,sEAAsE;oBACxE,UAAU,EAAE,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACzD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,cAAc;oBACrB,MAAM,EACJ,6FAA6F;oBAC/F,UAAU,EAAE,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACjE,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,SAAS;oBAChB,MAAM,EACJ,uFAAuF;oBACzF,UAAU,EAAE,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAC5D,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,OAAO;oBACd,MAAM,EACJ,6EAA6E;oBAC/E,UAAU,EAAE,OAAO,CAAC,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAC1D,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;aACF,CAAC;YACF,iBAAiB,CAAC,0BAA0B,CAAC;YAC7C,GAAG,4BAA4B,CAAC;gBAC9B;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,MAAM;oBACb,MAAM,EACJ,sEAAsE;oBACxE,UAAU,EAAE,OAAO,CAAC,eAAe,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAC5D,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,cAAc;oBACrB,MAAM,EACJ,6FAA6F;oBAC/F,UAAU,EACR,OAAO,CAAC,eAAe,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAC1D,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,SAAS;oBAChB,MAAM,EACJ,uFAAuF;oBACzF,UAAU,EAAE,OAAO,CAAC,eAAe,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAC/D,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,OAAO;oBACd,MAAM,EACJ,6EAA6E;oBAC/E,UAAU,EAAE,OAAO,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAC7D,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;aACF,CAAC;YACF,iBAAiB,CAAC,8BAA8B,CAAC;YACjD,GAAG,4BAA4B,CAAC;gBAC9B;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,WAAW;oBAClB,MAAM,EACJ,wFAAwF;oBAC1F,UAAU,EAAE,OAAO,CAAC,aAAa,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAC/D,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,YAAY;oBACnB,MAAM,EACJ,gFAAgF;oBAClF,UAAU,EAAE,OAAO,CAAC,aAAa,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,IAAI;oBAChE,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;aACF,CAAC;YACF,iBAAiB,CAAC,sBAAsB,CAAC;YACzC,GAAG,4BAA4B,CAAC;gBAC9B;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,KAAK;oBACZ,MAAM,EAAE,kDAAkD;oBAC1D,UAAU,EAAE,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACnD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,KAAK;oBACZ,MAAM,EAAE,kDAAkD;oBAC1D,UAAU,EAAE,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACnD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;gBACD;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,MAAM;oBACb,MAAM,EAAE,mDAAmD;oBAC3D,UAAU,EAAE,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACpD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;aACF,CAAC;YACF,iBAAiB,CAAC,QAAQ,CAAC;YAC3B,GAAG,4BAA4B,CAAC;gBAC9B;oBACE,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,MAAM;oBACb,MAAM,EAAE,uCAAuC;oBAC/C,UAAU,EAAE,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,IAAI;oBACrD,QAAQ,EAAE,IAAI;oBACd,OAAO,EAAE,KAAK;iBACf;aACF,CAAC;SACH,CAAC;AACR,CAAC","sourcesContent":["import { TemplateResult } from 'lit-html';\nimport { get } from 'lit-translate';\nimport { WizardPage } from '@openscd/open-scd/src/foundation.js';\n\nimport {\n  createFormDivider,\n  createFormElementsFromInputs,\n  isEmptyObject,\n} from './services.js';\n\ninterface FileHandling {\n  mms: string | null;\n  ftp: string | null;\n  ftps: string | null;\n}\n\ninterface TimeSyncProt {\n  sntp: string | null;\n  iec61850_9_3: string | null;\n  c37_238: string | null;\n  other: string | null;\n}\n\ninterface ClientServices_TimeSyncProt {\n  sntp: string | null;\n  iec61850_9_3: string | null;\n  c37_238: string | null;\n  other: string | null;\n}\n\ninterface ClientServices_McSecurity {\n  signature: string | null;\n  encryption: string | null;\n}\n\ninterface RedProt {\n  hsr: string | null;\n  prp: string | null;\n  rstp: string | null;\n}\n\ninterface CommProt {\n  ipv6: string | null;\n}\n\ninterface ContentOptions {\n  fileHandling: FileHandling;\n  timeSyncProt: TimeSyncProt;\n  cs_TimeSyncProt: ClientServices_TimeSyncProt;\n  cs_McSecurity: ClientServices_McSecurity;\n  redProt: RedProt;\n  commProt: CommProt;\n}\n\nexport function createNetworkingWizardPage(\n  services: Element\n): WizardPage | null {\n  const content: TemplateResult[] | null = createNetworkingWizard(services);\n\n  return content\n    ? {\n        title: get('wizard.title.edit', { tagName: 'Networking' }),\n        content: [...content],\n        element: services,\n      }\n    : null;\n}\n\nfunction createNetworkingWizard(parent: Element): TemplateResult[] | null {\n  const content: ContentOptions = {\n    fileHandling: {\n      mms: parent.querySelector('FileHandling')?.getAttribute('mms') ?? null,\n      ftp: parent.querySelector('FileHandling')?.getAttribute('ftp') ?? null,\n      ftps: parent.querySelector('FileHandling')?.getAttribute('ftps') ?? null,\n    },\n    timeSyncProt: {\n      sntp: parent.querySelector('TimeSyncProt')?.getAttribute('sntp') ?? null,\n      iec61850_9_3:\n        parent.querySelector('TimeSyncProt')?.getAttribute('iec61850_9_3') ??\n        null,\n      c37_238:\n        parent.querySelector('TimeSyncProt')?.getAttribute('c37_238') ?? null,\n      other:\n        parent.querySelector('TimeSyncProt')?.getAttribute('other') ?? null,\n    },\n    cs_TimeSyncProt: {\n      sntp:\n        parent\n          .querySelector('ClientServices > TimeSyncProt')\n          ?.getAttribute('sntp') ?? null,\n      iec61850_9_3:\n        parent\n          .querySelector('ClientServices > TimeSyncProt')\n          ?.getAttribute('iec61850_9_3') ?? null,\n      c37_238:\n        parent\n          .querySelector('ClientServices > TimeSyncProt')\n          ?.getAttribute('c37_238') ?? null,\n      other:\n        parent\n          .querySelector('ClientServices > TimeSyncProt')\n          ?.getAttribute('other') ?? null,\n    },\n    cs_McSecurity: {\n      signature:\n        parent\n          .querySelector('ClientServices > McSecurity')\n          ?.getAttribute('signature') ?? null,\n      encryption:\n        parent\n          .querySelector('ClientServices > McSecurity')\n          ?.getAttribute('encryption') ?? null,\n    },\n    redProt: {\n      hsr: parent.querySelector('RedProt')?.getAttribute('hsr') ?? null,\n      prp: parent.querySelector('RedProt')?.getAttribute('prp') ?? null,\n      rstp: parent.querySelector('RedProt')?.getAttribute('rstp') ?? null,\n    },\n    commProt: {\n      ipv6: parent.querySelector('CommProt')?.getAttribute('ipv6') ?? null,\n    },\n  };\n\n  return isEmptyObject(content)\n    ? null\n    : [\n        createFormDivider('File Handling'),\n        ...createFormElementsFromInputs([\n          {\n            kind: 'Checkbox',\n            label: 'mms',\n            helper:\n              'Whether the IED supports file transfer as defined by the manufacturer messaging service (MMS)',\n            maybeValue: content.fileHandling.mms?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'ftp',\n            helper: 'Whether the IED supports file transfer service (FTP)',\n            maybeValue: content.fileHandling.ftp?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'ftps',\n            helper:\n              'Whether the IED supports encrypted file transfer service (FTPS)',\n            maybeValue: content.fileHandling.ftps?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n        ]),\n        createFormDivider('Time Server Capabilities'),\n        ...createFormElementsFromInputs([\n          {\n            kind: 'Checkbox',\n            label: 'sntp',\n            helper:\n              'Whether the IED supports simple network time protocol as time-server',\n            maybeValue: content.timeSyncProt.sntp?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'iec61850_9_3',\n            helper:\n              'Whether the IED supports precision time protocol (PTP) acc. to IEC 61850-9-3 as time-server',\n            maybeValue: content.timeSyncProt.iec61850_9_3?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'c37_238',\n            helper:\n              'Whether the IED supports precision time protocol (PTP) acc. to C37.238 as time-server',\n            maybeValue: content.timeSyncProt.c37_238?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'other',\n            helper:\n              'Whether IED support other type of synchronization as time-server (e.g. PPS)',\n            maybeValue: content.timeSyncProt.other?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n        ]),\n        createFormDivider('Time Client Capabilities'),\n        ...createFormElementsFromInputs([\n          {\n            kind: 'Checkbox',\n            label: 'sntp',\n            helper:\n              'Whether the IED supports simple network time protocol as time-client',\n            maybeValue: content.cs_TimeSyncProt.sntp?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'iec61850_9_3',\n            helper:\n              'Whether the IED supports precision time protocol (PTP) acc. to IEC 61850-9-3 as time-client',\n            maybeValue:\n              content.cs_TimeSyncProt.iec61850_9_3?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'c37_238',\n            helper:\n              'Whether the IED supports precision time protocol (PTP) acc. to C37.238 as time-client',\n            maybeValue: content.cs_TimeSyncProt.c37_238?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'other',\n            helper:\n              'Whether IED support other type of synchronization as time-client (e.g. PPS)',\n            maybeValue: content.cs_TimeSyncProt.other?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n        ]),\n        createFormDivider('Multicast Security on Server'),\n        ...createFormElementsFromInputs([\n          {\n            kind: 'Checkbox',\n            label: 'signature',\n            helper:\n              'Whether calculation of a signature is supported for SMV/GOOSE on this IED/access point',\n            maybeValue: content.cs_McSecurity.signature?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'encryption',\n            helper:\n              'Whether message encryption is supported for SMV/GOOSE on this IED/access point',\n            maybeValue: content.cs_McSecurity.encryption?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n        ]),\n        createFormDivider('Redundancy Protocols'),\n        ...createFormElementsFromInputs([\n          {\n            kind: 'Checkbox',\n            label: 'hsr',\n            helper: 'Whether the IED supports redundancy protocol HSR',\n            maybeValue: content.redProt.hsr?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'prp',\n            helper: 'Whether the IED supports redundancy protocol PRP',\n            maybeValue: content.redProt.prp?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n          {\n            kind: 'Checkbox',\n            label: 'rstp',\n            helper: 'Whether the IED supports redundancy protocol RSTP',\n            maybeValue: content.redProt.rstp?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n        ]),\n        createFormDivider('Others'),\n        ...createFormElementsFromInputs([\n          {\n            kind: 'Checkbox',\n            label: 'ipv6',\n            helper: 'Whether the IED supports IP version 6',\n            maybeValue: content.commProt.ipv6?.toString() ?? null,\n            nullable: true,\n            default: false,\n          },\n        ]),\n      ];\n}\n"]}