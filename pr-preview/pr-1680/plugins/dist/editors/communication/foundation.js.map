{"version":3,"file":"foundation.js","sourceRoot":"","sources":["../../../src/editors/communication/foundation.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AACH,MAAM,UAAU,qBAAqB,CAAC,OAAgB;IACpD,OAAO,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;AACxC,CAAC;AAED;;;;;;GAMG;AACH,MAAM,UAAU,2BAA2B,CACzC,OAAgB,EAChB,GAAgB;IAEhB,IAAI,CAAC,OAAO,IAAI,CAAC,GAAG,EAAE;QACpB,OAAO,EAAE,CAAC;KACX;IAED,MAAM,kBAAkB,GAAG,qBAAqB,CAAC,OAAO,CAAC,CAAC;IAC1D,IAAI,CAAC,kBAAkB,EAAE;QACvB,OAAO,EAAE,CAAC;KACX;IAED,MAAM,OAAO,GAAG,kBAAkB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IAE3D,OAAO,KAAK,CAAC,IAAI,CACf,GAAG,CAAC,gBAAgB,CAAC,oCAAoC,OAAO,EAAE,CAAC,CACpE,CAAC;AACJ,CAAC","sourcesContent":["/**\r\n * Returns the first element of type ConnectedAP in the provided element's hierarchy.\r\n * @param element - The reference element to search from\r\n * @returns An element of type ConnectedAP or null\r\n */\r\nexport function getCurrentConnectedAP(element: Element): Element | null {\r\n  return element.closest('ConnectedAP');\r\n}\r\n\r\n/**\r\n * Retrieves all ConnectedAP elements within the same IED as the provided element.\r\n *\r\n * @param element - The reference element to find the current ConnectedAP and its IED.\r\n * @param doc - The XML document containing the SubNetwork and ConnectedAP elements.\r\n * @returns An array of ConnectedAP elements belonging to the same IED as the provided element.\r\n */\r\nexport function getAllConnectedAPsOfSameIED(\r\n  element: Element,\r\n  doc: XMLDocument\r\n): Element[] {\r\n  if (!element || !doc) {\r\n    return [];\r\n  }\r\n\r\n  const currentConnectedAP = getCurrentConnectedAP(element);\r\n  if (!currentConnectedAP) {\r\n    return [];\r\n  }\r\n\r\n  const iedName = currentConnectedAP.getAttribute('iedName');\r\n\r\n  return Array.from(\r\n    doc.querySelectorAll(`SubNetwork > ConnectedAP[iedName=${iedName}`)\r\n  );\r\n}\r\n"]}